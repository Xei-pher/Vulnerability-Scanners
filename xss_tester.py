import requests
from bs4 import BeautifulSoup
import argparse
import logging

# Configure logging
logging.basicConfig(level=logging.INFO, format='%(asctime)s - %(levelname)s - %(message)s')

def test_xss(url, payload):
    try:
        response = requests.get(f"{url}?q={payload}")
        soup = BeautifulSoup(response.text, "html.parser")
        if payload in str(soup):
            logging.info("XSS vulnerability detected!")
        else:
            logging.info("No XSS vulnerability detected.")
    except requests.RequestException as e:
        logging.error(f"Request failed: {e}")

if __name__ == "__main__":
    parser = argparse.ArgumentParser(description="XSS Vulnerability Tester")
    parser.add_argument("url", help="URL to test for XSS vulnerability")
    parser.add_argument("payload", help="Payload to test")
    args = parser.parse_args()

    logging.info(f"Testing URL: {args.url} with payload: {args.payload}")
    test_xss(args.url, args.payload)
